/* $Id: Imakefile,v 4.3 1998/04/17 14:32:58 bert Exp $ */

TOP=../..

#include "Local.config"

/*
 * Assemble defines and includes.
 *
 * The DEFS_OTHER variable can be specified on the make command line like:
 *
 *    make DEFS_OTHER=-DENABLE_SOME_HACK
 *
 * or in the Local.config file.
 *
 */
DEFINES = -DLOCALGURU=\"$(LOCALGURU)\" -DLIBDIR=\"$(INSTLIBDIR)/\" \
       -DCONTACTADDRESS=\"$(CONTACTADDRESS)\" $(DEFS_OTHER)
INCLUDES = -I../../lib/


/*
 * Do substitutions where necessary
 */
MsubTarget(version.h,version.h.msub)
includes:: version.h
depend:: includes

SRCS = checknames.c cmw.c error.c math.c net.c portability.c \
	shipshape.c socklib.c strcasecmp.c strdup.c

OBJS = checknames.o cmw.o error.o math.o net.o portability.o \
	shipshape.o socklib.o strcasecmp.o strdup.o

NormalLibraryTarget(xpcommon,$(OBJS))

DependTarget()


/*
 * Note that we provide our own *Subdirs calls, so there's no need
 * to define IHaveSubdirs.
 */
#define PassCDebugFlags	'CDEBUGFLAGS=$(CDEBUGFLAGS)'

          SUBDIRS = NT 			/* make all */
  MAKEFILESUBDIRS = NT 			/* make Makefiles */
     CLEANSUBDIRS = NT		 	/* make clean */
       DEPSUBDIRS = NT 			/* make depend */
   INSTALLSUBDIRS =        		/* make install */
  INCLUDESSUBDIRS = 			/* make includes */
INSTALLMANSUBDIRS = 			/* make install.man */
       TAGSUBDIRS = 			/* make tag */

MakeSubdirs($(SUBDIRS))
DependSubdirs($(DEPSUBDIRS))
CleanSubdirs($(CLEANSUBDIRS))
MakefileSubdirs($(MAKEFILESUBDIRS))
/* InstallSubdirs($(INSTALLSUBDIRS)) */
/* IncludesSubdirs($(INCLUDESSUBDIRS))	*/
/* InstallManSubdirs($(INSTALLMANSUBDIRS)) */
/* TagSubdirs($(TAGSUBDIRS)) */

